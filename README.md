--‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ïó‚ñë‚ñë‚ñë‚ñà‚ñà‚ïó‚ÄÉ‚ÄÉ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ñà‚ïó‚ñë‚ñë‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó‚ñë‚ñë‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
--‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ïî‚ïù‚ÄÉ‚ÄÉ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñë‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù
--‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ï¶‚ïù‚ñë‚ïö‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñë‚ÄÉ‚ÄÉ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïê‚ïù‚ñë‚ñà‚ñà‚ïë‚ñë‚ñë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë
--‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñë‚ñë‚ïö‚ñà‚ñà‚ïî‚ïù‚ñë‚ñë‚ÄÉ‚ÄÉ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ïë‚ñë‚ñë‚ñà‚ñà‚ïë‚ñë‚ïö‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó
--‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ï¶‚ïù‚ñë‚ñë‚ñë‚ñà‚ñà‚ïë‚ñë‚ñë‚ñë‚ÄÉ‚ÄÉ‚ñà‚ñà‚ïë‚ñë‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñë‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñë‚ïö‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñë‚ïö‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù
--‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ñë‚ñë‚ñë‚ñë‚ïö‚ïê‚ïù‚ñë‚ñë‚ñë‚ÄÉ‚ÄÉ‚ïö‚ïê‚ïù‚ñë‚ñë‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ñë‚ñë‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ñë‚ñë‚ïö‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù‚ñë‚ñë‚ïö‚ïê‚ïù‚ñë‚ïö‚ïê‚ïê‚ïê‚ïê‚ïù‚ñë‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ñë

-- Chargement de la biblioth√®que
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()

-- Cr√©ation de la fen√™tre de l'interface utilisateur
local Window = Library.CreateLib("Rankos | BlockSpin üîì Hub, V1", "DarkTheme")

-- Tab ESP
local Tab = Window:NewTab("ESP")
local Section = Tab:NewSection("Enjoy your ESP -- By Rankos")

-- Section pour "Light ESP"
Section:NewButton("Light ESP", "ButtonInfo", function()
    -- Fonction pour ajouter un Highlight √† un personnage
    local function addHighlight(char)
        local High = Instance.new("Highlight")
        High.Parent = char
    end

    -- Boucle √† travers tous les joueurs d√©j√† pr√©sents et ajoute un Highlight √† leur personnage
    for _, player in pairs(game.Players:GetPlayers()) do
        if player.Character then
            addHighlight(player.Character)
        end
        -- Lorsqu'un joueur rejoint, on lui ajoute un Highlight
        player.CharacterAdded:Connect(function(char)
            addHighlight(char)
        end)
    end

    -- Lorsque un nouveau joueur rejoint, on lui ajoute un Highlight
    game.Players.PlayerAdded:Connect(function(player)
        player.CharacterAdded:Connect(function(char)
            addHighlight(char)
        end)
    end)
end)

-- Section pour "Name ESP"
Section:NewButton("Name ESP", "ButtonInfo", function()
    -- Fonction pour ajouter un ESP avec le nom du joueur
    local function addNameESP(char, player)
        local billboard = Instance.new("BillboardGui")
        billboard.Adornee = char
        billboard.Size = UDim2.new(0, 100, 0, 50)
        billboard.StudsOffset = Vector3.new(0, 5, 0)  -- Positionne l'ESP au-dessus du personnage
        billboard.AlwaysOnTop = true  -- Rendre l'ESP visible √† travers les murs
        billboard.Parent = char

        local label = Instance.new("TextLabel")
        label.BackgroundTransparency = 1
        label.Size = UDim2.new(1, 0, 1, 0)
        label.Text = player.Name
        label.TextColor3 = Color3.fromRGB(255, 255, 255)  -- Couleur du texte (blanc)
        label.TextStrokeTransparency = 0.5  -- Opacit√© du contour (plus bas = contour plus visible)
        label.TextSize = 16
        label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)  -- Couleur du contour (noir)

        -- Changer la police du texte
        label.Font = Enum.Font.GothamBold  -- Choisissez la police ici (exemple : GothamBold)

        label.Parent = billboard
    end

    -- Fonction pour ajouter le Name ESP √† tous les joueurs existants et nouveaux
    local function addESPToAllPlayers()
        for _, player in pairs(game.Players:GetPlayers()) do
            if player.Character then
                addNameESP(player.Character, player)
            end
            -- Lorsqu'un joueur rejoint, on lui ajoute un Name ESP
            player.CharacterAdded:Connect(function(char)
                addNameESP(char, player)
            end)
        end
    end

    -- Ajout du Name ESP aux joueurs existants
    addESPToAllPlayers()

    -- Lorsqu'un joueur rejoint, on lui ajoute un Name ESP
    game.Players.PlayerAdded:Connect(function(player)
        player.CharacterAdded:Connect(function(char)
            addNameESP(char, player)
        end)
    end)
end)

-- Section pour "Tool ESP"
Section:NewButton("Tool ESP (OP)", "ButtonInfo", function()
    -- Fonction pour ajouter un ESP avec le tool du joueur
    local function addToolESP(char, player)
        -- Fonction pour mettre √† jour l'ESP avec le tool du joueur
        local function updateToolESP()
            -- Retirer l'ESP s'il existe d√©j√†
            if player.Character:FindFirstChild("ToolESP") then
                player.Character.ToolESP:Destroy()
            end
            
            -- Trouver l'outil que le joueur tient dans ses mains
            local tool = char:FindFirstChildOfClass("Tool")
            
            -- Si le joueur a un outil, afficher son nom
            if tool then
                local billboard = Instance.new("BillboardGui")
                billboard.Name = "ToolESP"
                billboard.Adornee = char
                billboard.Size = UDim2.new(0, 100, 0, 50)
                -- Positionner l'ESP en dessous des pieds du joueur
                billboard.StudsOffset = Vector3.new(0, -3, 0)  -- D√©calage vers le bas (sous les pieds)
                billboard.AlwaysOnTop = true  -- Rendre l'ESP visible √† travers les murs
                billboard.Parent = char

                local label = Instance.new("TextLabel")
                label.BackgroundTransparency = 1
                label.Size = UDim2.new(1, 0, 1, 0)
                label.Text = tool.Name  -- Affiche le nom du tool
                label.TextColor3 = Color3.fromRGB(255, 255, 255)  -- Couleur du texte (blanc)
                label.TextStrokeTransparency = 0.5  -- Opacit√© du contour (plus bas = contour plus visible)
                label.TextSize = 17
                label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)  -- Couleur du contour (noir)

                -- Changer la police du texte
                label.Font = Enum.Font.Arial  -- Choisissez la police ici (exemple : GothamBold)

                label.Parent = billboard

                -- Assurer que l'ESP suit le joueur
                game:GetService("RunService").RenderStepped:Connect(function()
                    if billboard.Adornee and billboard.Adornee.Parent then
                        -- Mettre √† jour la position de l'ESP
                        billboard.StudsOffset = Vector3.new(0, -3, 0)  -- Garder l'offset constant sous les pieds du joueur
                    end
                end)
            end
        end

        -- Observer les changements de tool
        player.Character.ChildAdded:Connect(function(child)
            if child:IsA("Tool") then
                updateToolESP()
            end
        end)

        player.Character.ChildRemoved:Connect(function(child)
            if child:IsA("Tool") then
                updateToolESP()
            end
        end)

        -- Mettre √† jour l'ESP lorsque le personnage est d√©j√† √©quip√© d'un tool
        updateToolESP()
    end

    -- Fonction pour ajouter le Tool ESP √† tous les joueurs existants et nouveaux
    local function addESPToAllPlayers()
        for _, player in pairs(game.Players:GetPlayers()) do
            if player.Character then
                addToolESP(player.Character, player)
            end
            -- Lorsqu'un joueur rejoint, on lui ajoute un Tool ESP
            player.CharacterAdded:Connect(function(char)
                addToolESP(char, player)
            end)
        end
    end

    -- Ajout du Tool ESP aux joueurs existants
    addESPToAllPlayers()

    -- Lorsqu'un joueur rejoint, on lui ajoute un Tool ESP
    game.Players.PlayerAdded:Connect(function(player)
        player.CharacterAdded:Connect(function(char)
            addToolESP(char, player)
        end)
    end)
end)


-- Section pour "Health ESP" avec les couleurs modifi√©es en fonction de la sant√©
Section:NewButton("Health ESP", "ButtonInfo", function()
    -- Fonction pour ajouter un ESP avec la sant√© du joueur
    local function addHealthESP(char, player)
        -- Supprimer l'ancien Health ESP si pr√©sent
        local existingESP = char:FindFirstChild("HealthESP")
        if existingESP then
            existingESP:Destroy()
        end

        -- Cr√©ation du BillboardGui pour afficher la sant√©
        local billboard = Instance.new("BillboardGui")
        billboard.Name = "HealthESP"  -- Nommer l'ESP pour pouvoir le supprimer facilement plus tard
        billboard.Adornee = char
        billboard.Size = UDim2.new(0, 90, 0, 40)
        billboard.AlwaysOnTop = true
        billboard.Parent = char

        -- Cr√©ation du label pour afficher la sant√©
        local label = Instance.new("TextLabel")
        label.BackgroundTransparency = 1
        label.Size = UDim2.new(1, 0, 1, 0)
        label.Text = "Health: " .. math.floor(player.Character.Humanoid.Health)
        label.TextColor3 = Color3.fromRGB(255, 255, 255)
        label.TextStrokeTransparency = 0.5
        label.TextSize = 13
        label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
        label.Font = Enum.Font.GothamBold
        label.Parent = billboard

        -- Fonction pour mettre √† jour la couleur de la sant√©
        local function updateHealthColor()
            local health = player.Character.Humanoid.Health
            if health > 75 then
                label.TextColor3 = Color3.fromRGB(0, 255, 0)  -- Vert si la sant√© est sup√©rieure √† 75
            elseif health >= 35 then
                label.TextColor3 = Color3.fromRGB(255, 165, 0)  -- Orange si la sant√© est entre 35 et 75
            else
                label.TextColor3 = Color3.fromRGB(255, 0, 0)  -- Rouge si la sant√© est entre 0 et 35
            end
        end

        -- Met √† jour la couleur initiale
        updateHealthColor()

        -- Mettre √† jour la sant√© si elle change
        player.Character.Humanoid.HealthChanged:Connect(function()
            label.Text = "Health: " .. math.floor(player.Character.Humanoid.Health)
            updateHealthColor()
        end)

        -- Assurer que l'ESP reste toujours au-dessus de la t√™te du joueur
        game:GetService("RunService").RenderStepped:Connect(function()
            if char and char:FindFirstChild("Head") then
                -- Positionner l'ESP au-dessus de la t√™te du joueur
                billboard.StudsOffset = Vector3.new(0, 3, 0)  -- Ajustez cette valeur pour d√©finir la position (3 studs au-dessus de la t√™te)
                -- Assurez-vous que l'ESP reste en place m√™me si la cam√©ra se d√©place
                local headPosition = char.Head.Position + Vector3.new(0, 3, 0)  -- Position du label 3 studs au-dessus de la t√™te
                billboard.CFrame = CFrame.new(headPosition)  -- D√©placez l'ESP √† cette position
            end
        end)
    end

    -- Ajouter le Health ESP √† tous les joueurs existants et nouveaux
    local function addESPToAllPlayers()
        for _, player in pairs(game.Players:GetPlayers()) do
            if player.Character then
                addHealthESP(player.Character, player)
            end
            player.CharacterAdded:Connect(function(char)
                addHealthESP(char, player)
            end)
        end
    end

    addESPToAllPlayers()

    -- Lorsqu'un joueur rejoint, on lui ajoute un Health ESP
    game.Players.PlayerAdded:Connect(function(player)
        player.CharacterAdded:Connect(function(char)
            addHealthESP(char, player)
        end)
    end)
end)


Section:NewButton("Show BackPack (ULTRA OP!)", "ButtonInfo", function()
    -- Obtenez le joueur local
    local player = game.Players.LocalPlayer
    local mouse = player:GetMouse()  -- Obtenez l'objet Mouse du joueur local
    
    local screenGui = nil  -- Variable pour garder une r√©f√©rence √† la GUI
    
    -- Fonction pour v√©rifier si le curseur est sur un joueur
    local function onHover()
        -- V√©rifie si le curseur pointe sur un personnage
        local target = mouse.Target
        if target and target.Parent and target.Parent:FindFirstChild("Humanoid") then
            -- Si le curseur est sur un joueur et que la GUI n'est pas d√©j√† ouverte
            if not screenGui then
                local character = target.Parent
                local playerOnHover = game.Players:GetPlayerFromCharacter(character)
                
                if playerOnHover then
                    -- Cr√©ation de la GUI
                    screenGui = Instance.new("ScreenGui")
                    screenGui.Parent = player:WaitForChild("PlayerGui")
                    
                    local frame = Instance.new("Frame")
                    frame.Size = UDim2.new(0, 300, 0, 250)  -- Augmenter la taille pour les tools
                    frame.Position = UDim2.new(0, 50, 0, 0)  -- D√©calage √† droite de 50 pixels
                    frame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
                    frame.Parent = screenGui
                    
                    -- Ajouter un titre √† la GUI avec le nom du joueur + "BackPack"
                    local titleLabel = Instance.new("TextLabel")
                    titleLabel.Size = UDim2.new(1, 0, 0, 40)
                    titleLabel.Position = UDim2.new(0, 0, 0, 0)
                    titleLabel.Text = playerOnHover.Name .. "'s Backpack-ByRankos"  -- Afficher le nom du joueur suivi de "Backpack"
                    titleLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
                    titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
                    titleLabel.TextSize = 14  -- R√©duire la taille du texte
                    titleLabel.Parent = frame

                    -- Fonction pour afficher les tools dans le Backpack
                    local function displayToolsInBackpack()
                        local yOffset = 45  -- Position de d√©part sous le titre
                        
                        -- Vider tout le contenu pr√©c√©dent avant de r√©afficher
                        for _, child in pairs(frame:GetChildren()) do
                            if child:IsA("TextLabel") and child ~= titleLabel then
                                child:Destroy()  -- D√©truire les anciens labels des outils
                            end
                        end
                        
                        -- Parcourir le Backpack du joueur et ajouter chaque tool sous le titre
                        for _, tool in pairs(playerOnHover.Backpack:GetChildren()) do
                            if tool:IsA("Tool") then
                                local toolLabel = Instance.new("TextLabel")
                                toolLabel.Size = UDim2.new(1, 0, 0, 20)
                                toolLabel.Position = UDim2.new(0, 0, 0, yOffset)
                                toolLabel.Text = tool.Name
                                toolLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
                                toolLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
                                toolLabel.TextSize = 12
                                toolLabel.TextStrokeTransparency = 0.5
                                toolLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
                                toolLabel.Font = Enum.Font.GothamBold
                                toolLabel.Parent = frame
                                yOffset = yOffset + 25  -- D√©calage pour le prochain outil
                            end
                        end
                    end

                    -- Afficher les tools au moment o√π la GUI est ouverte
                    displayToolsInBackpack()

                    -- Ajouter un √©v√©nement pour mettre √† jour la liste des tools en temps r√©el
                    playerOnHover.Backpack.ChildAdded:Connect(function(child)
                        if child:IsA("Tool") then
                            displayToolsInBackpack()  -- Mettre √† jour l'affichage des tools
                        end
                    end)

                    -- Ajouter un √©v√©nement pour supprimer un tool
                    playerOnHover.Backpack.ChildRemoved:Connect(function(child)
                        if child:IsA("Tool") then
                            displayToolsInBackpack()  -- Mettre √† jour l'affichage des tools
                        end
                    end)
                end
            end
        else
            -- Si le curseur n'est pas sur un joueur, fermer la GUI imm√©diatement
            if screenGui then
                screenGui:Destroy()
                screenGui = nil  -- R√©initialiser la variable pour pouvoir recr√©er la GUI plus tard
            end
        end
    end

    -- Connecter la fonction √† l'√©v√©nement `MouseMoved`
    mouse.Move:Connect(onHover)
end)

